<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Brick Game v1.0: src/brick_game/tetris/game.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Brick Game v1.0
   </div>
   <div id="projectbrief">Implementation of the game Tetris in the C programming language with a terminal user interface.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('game_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle"><div class="title">game.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Main entry point of the library.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &quot;<a class="el" href="field_8h_source.html">field.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="piece_8h_source.html">piece.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for game.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="game_8h__incl.png" border="0" usemap="#asrc_2brick__game_2tetris_2game_8h" alt=""/></div>
<map name="asrc_2brick__game_2tetris_2game_8h" id="asrc_2brick__game_2tetris_2game_8h">
<area shape="rect" title="Main entry point of the library." alt="" coords="18,5,177,45"/>
<area shape="rect" title=" " alt="" coords="5,167,88,192"/>
<area shape="poly" title=" " alt="" coords="83,47,68,69,56,94,50,124,48,153,43,153,44,123,51,92,63,66,79,44"/>
<area shape="rect" href="field_8h.html" title="Defines the playfield and operations on it." alt="" coords="66,93,129,119"/>
<area shape="poly" title=" " alt="" coords="100,46,100,79,95,79,95,46"/>
<area shape="rect" href="piece_8h.html" title="Defines pieces and operations on them." alt="" coords="121,167,191,192"/>
<area shape="poly" title=" " alt="" coords="115,44,131,67,144,92,153,123,157,153,152,154,147,125,139,94,126,69,111,47"/>
<area shape="poly" title=" " alt="" coords="91,121,65,157,61,154,87,117"/>
<area shape="poly" title=" " alt="" coords="109,117,140,155,136,158,105,121"/>
</map>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="game_8h__dep__incl.png" border="0" usemap="#asrc_2brick__game_2tetris_2game_8hdep" alt=""/></div>
<map name="asrc_2brick__game_2tetris_2game_8hdep" id="asrc_2brick__game_2tetris_2game_8hdep">
<area shape="rect" title="Main entry point of the library." alt="" coords="461,5,620,45"/>
<area shape="rect" href="attaching_8h_source.html" title=" " alt="" coords="5,93,164,133"/>
<area shape="poly" title=" " alt="" coords="448,46,176,96,165,98,164,93,175,91,447,40"/>
<area shape="rect" href="clearing_8h_source.html" title=" " alt="" coords="188,93,347,133"/>
<area shape="poly" title=" " alt="" coords="468,52,328,96,326,91,467,47"/>
<area shape="rect" href="common_8h.html" title="Defines common functionality shared across different states." alt="" coords="371,93,529,133"/>
<area shape="poly" title=" " alt="" coords="513,57,472,95,468,91,509,53"/>
<area shape="rect" href="moving_8h_source.html" title=" " alt="" coords="553,93,712,133"/>
<area shape="poly" title=" " alt="" coords="573,53,614,91,610,95,569,57"/>
<area shape="rect" href="spawn_8h_source.html" title=" " alt="" coords="736,93,895,133"/>
<area shape="poly" title=" " alt="" coords="615,47,756,91,754,96,613,52"/>
<area shape="rect" href="start_8h_source.html" title=" " alt="" coords="919,93,1077,133"/>
<area shape="poly" title=" " alt="" coords="634,40,908,91,919,93,918,98,907,96,633,46"/>
</map>
</div>
</div>
<p><a href="game_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structInputs.html">Inputs</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A bitfield describing active user inputs.  <a href="structInputs.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structFilledLines.html">FilledLines</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A list of indices of lines that are detected to be full.  <a href="structFilledLines.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structGameData.html">GameData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A structure containing all data about the current game session.  <a href="structGameData.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a5bb4257ca9fa4bfcf9391b7895b97761" id="r_a5bb4257ca9fa4bfcf9391b7895b97761"><td class="memItemLeft" align="right" valign="top"><a id="a5bb4257ca9fa4bfcf9391b7895b97761" name="a5bb4257ca9fa4bfcf9391b7895b97761"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_LEVEL</b>&#160;&#160;&#160;10</td></tr>
<tr class="memdesc:a5bb4257ca9fa4bfcf9391b7895b97761"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum level the player can reach. <br /></td></tr>
<tr class="separator:a5bb4257ca9fa4bfcf9391b7895b97761"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a81686c4a750540738c00bff9878109d6" id="r_a81686c4a750540738c00bff9878109d6"><td class="memItemLeft" align="right" valign="top"><a id="a81686c4a750540738c00bff9878109d6" name="a81686c4a750540738c00bff9878109d6"></a>
typedef struct <a class="el" href="structGameData.html">GameData</a>&#160;</td><td class="memItemRight" valign="bottom"><b>GameData</b></td></tr>
<tr class="memdesc:a81686c4a750540738c00bff9878109d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">A structure containing all data about the current game session. <br /></td></tr>
<tr class="separator:a81686c4a750540738c00bff9878109d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a7899b65f1ea0f655e4bbf8d2a5714285" id="r_a7899b65f1ea0f655e4bbf8d2a5714285"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="game_8h.html#a7899b65f1ea0f655e4bbf8d2a5714285">GameState</a> { <br />
&#160;&#160;<a class="el" href="game_8h.html#a7899b65f1ea0f655e4bbf8d2a5714285a13d000b4d7dc70d90239b7430d1eb6b2">START</a>
, <a class="el" href="game_8h.html#a7899b65f1ea0f655e4bbf8d2a5714285add033ecd9e9e3809c50006089d7696e3">SPAWN_START</a>
, <a class="el" href="game_8h.html#a7899b65f1ea0f655e4bbf8d2a5714285a881e5b8c00714da0b5327e02f62146fc">SPAWN</a>
, <a class="el" href="game_8h.html#a7899b65f1ea0f655e4bbf8d2a5714285a16ebdcb23eb5337fd5bc598fa8d6035d">MOVING</a>
, <br />
&#160;&#160;<a class="el" href="game_8h.html#a7899b65f1ea0f655e4bbf8d2a5714285a5e5d784bf16d09143c8ea3c4aa54bd22">ATTACHING</a>
, <a class="el" href="game_8h.html#a7899b65f1ea0f655e4bbf8d2a5714285a29455e47f775687e87a412a8dee613a8">CLEARING</a>
, <a class="el" href="game_8h.html#a7899b65f1ea0f655e4bbf8d2a5714285a871723195985a4ae22d7e10d99bf8a00">GAME_OVER</a>
<br />
 }</td></tr>
<tr class="memdesc:a7899b65f1ea0f655e4bbf8d2a5714285"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumeration of all states of the game's Finite State Machine.  <a href="game_8h.html#a7899b65f1ea0f655e4bbf8d2a5714285">More...</a><br /></td></tr>
<tr class="separator:a7899b65f1ea0f655e4bbf8d2a5714285"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Main entry point of the library. </p>
<p>Defines the main data structure of the game &mdash; <a class="el" href="structGameData.html">GameData</a> and possible operations on it. </p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a7899b65f1ea0f655e4bbf8d2a5714285" name="a7899b65f1ea0f655e4bbf8d2a5714285"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7899b65f1ea0f655e4bbf8d2a5714285">&#9670;&#160;</a></span>GameState</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="game_8h.html#a7899b65f1ea0f655e4bbf8d2a5714285">GameState</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enumeration of all states of the game's Finite State Machine. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a7899b65f1ea0f655e4bbf8d2a5714285a13d000b4d7dc70d90239b7430d1eb6b2" name="a7899b65f1ea0f655e4bbf8d2a5714285a13d000b4d7dc70d90239b7430d1eb6b2"></a>START&#160;</td><td class="fielddoc"><p>Start screen of the game. </p>
<pre class="fragment">Transitions to @ref SPAWN_START when the user action @ref Start is
received. 
</pre> </td></tr>
<tr><td class="fieldname"><a id="a7899b65f1ea0f655e4bbf8d2a5714285add033ecd9e9e3809c50006089d7696e3" name="a7899b65f1ea0f655e4bbf8d2a5714285add033ecd9e9e3809c50006089d7696e3"></a>SPAWN_START&#160;</td><td class="fielddoc"><p>Spawn a random first piece and generate a random next piece. </p>
<pre class="fragment">Different from @ref SPAWN because the spawned piece is random and not the
next piece.

Entered from @ref START and @ref GAME_OVER for the first spawn of the
game.

Transitions to @ref MOVING after the piece has been spawned. 
</pre> </td></tr>
<tr><td class="fieldname"><a id="a7899b65f1ea0f655e4bbf8d2a5714285a881e5b8c00714da0b5327e02f62146fc" name="a7899b65f1ea0f655e4bbf8d2a5714285a881e5b8c00714da0b5327e02f62146fc"></a>SPAWN&#160;</td><td class="fielddoc"><p>Spawn the next piece and generate a new random next piece. </p>
<pre class="fragment">Applies spawn delay proportional to the distance of the attached piece
from the ground. The higher the piece was attached, the longer the delay,
to provide the player with ample time to think when they are close
to losing.

Transitions to @ref GAME_OVER if there is not enough space for the spawned
piece.

Otherwise, transitions to @ref MOVING after the piece has been spawned. 
</pre> </td></tr>
<tr><td class="fieldname"><a id="a7899b65f1ea0f655e4bbf8d2a5714285a16ebdcb23eb5337fd5bc598fa8d6035d" name="a7899b65f1ea0f655e4bbf8d2a5714285a16ebdcb23eb5337fd5bc598fa8d6035d"></a>MOVING&#160;</td><td class="fielddoc"><p>Main state of the game, the player is in control of the piece. </p>
<pre class="fragment">The played piece is rotated and moved sideways or downwards according to
player's inputs.

The piece is also automatically moved downwards at fixed intervals. The
intervals get progressively shorter at higher levels.

Transitions to @ref ATTACHING when the piece touches the ground. 
</pre> </td></tr>
<tr><td class="fieldname"><a id="a7899b65f1ea0f655e4bbf8d2a5714285a5e5d784bf16d09143c8ea3c4aa54bd22" name="a7899b65f1ea0f655e4bbf8d2a5714285a5e5d784bf16d09143c8ea3c4aa54bd22"></a>ATTACHING&#160;</td><td class="fielddoc"><p>The played piece is attached to the field. </p>
<pre class="fragment">Transitions to @ref CLEARING if the attached piece completes one or more
lines.

Otherwise, transitions to @ref SPAWN. 
</pre> </td></tr>
<tr><td class="fieldname"><a id="a7899b65f1ea0f655e4bbf8d2a5714285a29455e47f775687e87a412a8dee613a8" name="a7899b65f1ea0f655e4bbf8d2a5714285a29455e47f775687e87a412a8dee613a8"></a>CLEARING&#160;</td><td class="fielddoc"><p>Full lines are cleared and points are awarded. </p>
<pre class="fragment">Plays a quick animation of the lines clearing and moves the lines above
down.

Points are awarded based on amount of lines cleared according to the table
below:

| Lines Cleared | Points Awarded |
| ------------- | -------------- |
| 1             | 100            |
| 2             | 300            |
| 3             | 700            |
| 4             | 1500           |

Transitions to @ref SPAWN 
</pre> </td></tr>
<tr><td class="fieldname"><a id="a7899b65f1ea0f655e4bbf8d2a5714285a871723195985a4ae22d7e10d99bf8a00" name="a7899b65f1ea0f655e4bbf8d2a5714285a871723195985a4ae22d7e10d99bf8a00"></a>GAME_OVER&#160;</td><td class="fielddoc"><p>Game over screen of the game. </p>
<pre class="fragment">Transitions to @ref SPAWN_START when the user action @ref Start is
received. 
</pre> </td></tr>
</table>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_6d455bb4f93521e5cf9e8b4530e4a8ce.html">brick_game</a></li><li class="navelem"><a class="el" href="dir_b97a21befa5169934a9d2935e71aa3e8.html">tetris</a></li><li class="navelem"><a class="el" href="game_8h.html">game.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
